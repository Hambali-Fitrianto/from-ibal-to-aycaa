<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#bae6fd">
  <title>Dari Ibal untuk Aycaa ğŸ’™</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      /* lebih kecil & fluid */
      --fs-base: clamp(14px, 2.6vw, 17px);
      --radius: 1rem;
    }
    html, body { font-size: var(--fs-base); }
    body { -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; }

    /* safe-area notches */
    .safe-area {
      padding-left: max(.75rem, env(safe-area-inset-left));
      padding-right: max(.75rem, env(safe-area-inset-right));
      padding-top: max(.75rem, env(safe-area-inset-top));
      padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }

    /* hearts di belakang konten + lebih kecil */
    .heart {
      position: fixed;
      top: -1.5rem;
      font-size: clamp(.9rem, 3.5vw, 1.2rem);
      color: #38bdf8;
      animation: fall linear forwards;
      z-index: 1;                 /* <â€” di belakang kartu */
      opacity: .75;
      filter: drop-shadow(0 2px 4px rgba(2,132,199,.18));
      pointer-events: none;
      user-select: none;
      will-change: transform;
    }
    @keyframes fall {
      from { transform: translateY(-1.5rem) rotate(0deg); }
      to   { transform: translateY(110vh) rotate(360deg); }
    }

    /* tiny phones */
    @media (max-width: 380px){
      .title { font-size: clamp(1.35rem, 6vw, 1.75rem); }
      .lead  { font-size: .92rem; }
    }

    /* hover hanya di device yg ada hover */
    @media (hover: hover){
      .hvr\:scale:hover { transform: scale(1.03); }
    }

    /* hormati reduce-motion */
    @media (prefers-reduced-motion: reduce){
      .heart { animation: none; display: none; }
      .animate-pulse { animation: none !important; }
    }
  </style>
</head>

<body class="bg-gradient-to-br from-blue-100 via-sky-200 to-blue-300 min-h-dvh flex items-center justify-center relative overflow-x-hidden">
  <main class="safe-area w-full">
    <section class="mx-auto max-w-[420px] sm:max-w-screen-sm">
      <div class="relative z-[5] text-center p-4 sm:p-6 bg-white/70 backdrop-blur-md rounded-[var(--radius)] shadow-xl ring-1 ring-white/40">
        <h1 class="title font-bold text-sky-700 mb-2 leading-tight" style="font-size: clamp(1.6rem, 5.2vw, 2.1rem);">
          ğŸ’™ Dari Ibal untuk Aycaa ğŸ’™
        </h1>

        <p class="lead text-gray-700 mb-4 leading-relaxed text-balance">
          Aku ingin selalu menghitung setiap detik bersamamu, sejak kita jadian ğŸ’• <br>
          <span class="font-semibold text-sky-600">28 April 2025</span> sampai hari ini.
        </p>

        <!-- Counter Tahun-Bulan-Minggu-Hari (lebih kecil) -->
        <div id="counter" class="grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 mb-4" aria-live="polite">
          <div class="p-3 bg-sky-100 rounded-lg shadow hvr:scale transition-transform">
            <p class="text-xl sm:text-2xl font-bold text-sky-700" id="years">0</p>
            <p class="text-gray-600 text-xs sm:text-sm">Tahun</p>
          </div>
          <div class="p-3 bg-blue-100 rounded-lg shadow hvr:scale transition-transform">
            <p class="text-xl sm:text-2xl font-bold text-blue-700" id="months">0</p>
            <p class="text-gray-600 text-xs sm:text-sm">Bulan</p>
          </div>
          <div class="p-3 bg-cyan-100 rounded-lg shadow hvr:scale transition-transform">
            <p class="text-xl sm:text-2xl font-bold text-cyan-700" id="weeks">0</p>
            <p class="text-gray-600 text-xs sm:text-sm">Minggu</p>
          </div>
          <div class="p-3 bg-indigo-100 rounded-lg shadow hvr:scale transition-transform">
            <p class="text-xl sm:text-2xl font-bold text-indigo-700" id="days">0</p>
            <p class="text-gray-600 text-xs sm:text-sm">Hari</p>
          </div>
        </div>

        <!-- Counter Jam-Menit-Detik (lebih kecil) -->
        <div id="time-counter" class="grid grid-cols-3 gap-2 sm:gap-3 mb-5" aria-live="polite">
          <div class="p-3 bg-purple-100 rounded-lg shadow hvr:scale transition-transform">
            <p class="text-xl sm:text-2xl font-bold text-purple-700" id="hours">00</p>
            <p class="text-gray-600 text-xs sm:text-sm">Jam</p>
          </div>
          <div class="p-3 bg-pink-100 rounded-lg shadow hvr:scale transition-transform">
            <p class="text-xl sm:text-2xl font-bold text-pink-700" id="minutes">00</p>
            <p class="text-gray-600 text-xs sm:text-sm">Menit</p>
          </div>
          <div class="p-3 bg-red-100 rounded-lg shadow hvr:scale transition-transform">
            <p class="text-xl sm:text-2xl font-bold text-red-700" id="seconds">00</p>
            <p class="text-gray-600 text-xs sm:text-sm">Detik</p>
          </div>
        </div>

        <!-- Kata-kata romantis (padding lebih ramping) -->
        <div class="grid gap-2.5 sm:gap-3 text-gray-700 mb-4 text-pretty">
          <div class="p-3 bg-white rounded-lg shadow text-left italic">Bersamamu, aku belajar bahwa cinta bukan sekadar kata, melainkan doa yang terus hidup dalam setiap tarikan napas.</div>
          <div class="p-3 bg-white rounded-lg shadow text-left italic">Setiap senyummu adalah alasan aku bersyukur, setiap tatapanmu adalah rumah, dan setiap genggamanmu adalah janji abadi yang tak ingin kulepaskan.</div>
          <div class="p-3 bg-white rounded-lg shadow text-left italic">Aku tak mencari cinta yang sempurna, aku hanya ingin cinta yang tulus â€” dan itu aku temukan dalam dirimu, Aycaa ğŸ’™</div>
          <div class="p-3 bg-white rounded-lg shadow text-left italic">Jika waktu bisa berhenti, aku ingin ia berhenti di setiap momen ketika aku menatapmu. Karena di sanalah aku merasa dunia begitu indah.</div>
          <div class="p-3 bg-white rounded-lg shadow text-left italic">Hidup mungkin penuh rahasia, tapi satu hal yang pasti: cintaku padamu tak akan pernah pudar, bahkan hingga detik terakhir aku ada.</div>
          <div class="p-3 bg-white rounded-lg shadow text-left italic">Kita belum pernah bertemu, dan mungkin itu membuat rindu kita tumbuh jadi sesuatu yang lebih dalam. Aku selalu berharap hari di mana aku bisa menatap matamu langsung, menggenggam tanganmu, dan mengatakan "akhirnya" tanpa ada jarak lagi.</div>
          <div class="p-3 bg-white rounded-lg shadow text-left italic">Cerita apapun yang kita bawa â€” tawa, luka, canda, atau kebisuan â€” aku ingin kita rangkai jadi kisah yang saling melengkapi. Kamu melengkapi bagian yang hilang dalam diriku, dan aku ingin menjadi bahu untukmu saat dunia terasa berat.</div>
          <div class="p-3 bg-white rounded-lg shadow text-left italic">Bayanganku tentang kita: main bareng sampai lupa waktu, jalan-jalan sambil berbagi playlist, nonton film sampai tertidur berdua, masak bareng sampai dapur berantakan, dan merayakan hal-hal kecil dengan pelukan hangat. Itu semua terlihat sederhana, tapi untukku itu adalah surga.</div>
          <div class="p-3 bg-white rounded-lg shadow text-left italic">Semoga kita bisa segera bertemu, membuat kenangan nyata yang bisa kita sentuh dan simpan. Sampai saat itu tiba, aku akan merawat rindu ini dengan setia â€” karena setiap langkah yang kita ambil menuju pertemuan adalah janji yang aku pegang erat.</div>
          <div class="p-3 bg-sky-100 rounded-lg shadow text-left italic font-semibold text-sky-700">Aku mencintaimu, Aycaa. Sampai jumpa di pelukan pertama kita. ğŸ’™</div>
        </div>

        <p class="text-base sm:text-lg text-gray-700 font-medium italic animate-pulse">
          Setiap hari bersamamu adalah anugerah terindah bagiku, Aycaa ğŸ’™
        </p>
      </div>
    </section>
  </main>

  <script>
    // Tanggal jadian (hindari parsing string)
    const startDate = new Date(2025, 3, 28, 0, 0, 0);
    const pad2 = (n) => n.toString().padStart(2, "0");

    function updateLoveCounter() {
      const now = new Date();
      const diffTime = now.getTime() - startDate.getTime();

      if (diffTime < 0) {
        document.getElementById("counter").innerHTML =
          "<p class='text-sky-700 font-semibold text-sm'>Tanggal jadian belum tiba ğŸ¥°</p>";
        return;
      }

      const diffDays  = Math.floor(diffTime / (1000 * 60 * 60 * 24));
      const diffWeeks = Math.floor(diffDays / 7);

      let years  = now.getFullYear() - startDate.getFullYear();
      let months = now.getMonth() - startDate.getMonth();
      let days   = now.getDate()  - startDate.getDate();

      if (days < 0) {
        months--;
        const prevMonth = new Date(now.getFullYear(), now.getMonth(), 0);
        days += prevMonth.getDate();
      }
      if (months < 0) {
        years--;
        months += 12;
      }

      document.getElementById("years").textContent   = years;
      document.getElementById("months").textContent  = months;
      document.getElementById("weeks").textContent   = diffWeeks;
      document.getElementById("days").textContent    = diffDays;

      const diffSeconds = Math.floor(diffTime / 1000);
      const hours   = Math.floor(diffSeconds / 3600) % 24;
      const minutes = Math.floor(diffSeconds / 60) % 60;
      const seconds = diffSeconds % 60;

      document.getElementById("hours").textContent   = pad2(hours);
      document.getElementById("minutes").textContent = pad2(minutes);
      document.getElementById("seconds").textContent = pad2(seconds);
    }

    // Hearts â€“ di belakang konten & hemat baterai
    let heartTimer = null;
    let heartCount = 0;
    const HEART_MAX = 14; // lebih sedikit biar ringan

    function createHeart() {
      if (document.hidden || heartCount >= HEART_MAX) return;
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = "ğŸ’™";
      // batasi jarak kiri-kanan supaya gak bikin scroll & tampil di sisi luar kartu
      const left = 5 + Math.random() * 90; // 5vw sampai 95vw
      heart.style.left = left + "vw";
      heart.style.animationDuration = (3 + Math.random() * 4) + "s";
      document.body.appendChild(heart);
      heartCount++;
      setTimeout(() => { heart.remove(); heartCount--; }, 7000);
    }
    function startHearts() {
      const cores = navigator.hardwareConcurrency || 2;
      const interval = cores >= 6 ? 600 : 800;
      if (!heartTimer) heartTimer = setInterval(createHeart, interval);
    }
    function stopHearts() { clearInterval(heartTimer); heartTimer = null; }

    updateLoveCounter();
    setInterval(updateLoveCounter, 1000);

    document.addEventListener("visibilitychange", () => {
      if (document.hidden) stopHearts(); else startHearts();
    });

    if (!matchMedia("(prefers-reduced-motion: reduce)").matches) startHearts();
  </script>
</body>
</html>
